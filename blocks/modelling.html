<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Data Regression Models &mdash; GeoArmadillo 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=d45e8c67"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="GeoArmadillo Example Pipelines" href="../examples/index.html" />
    <link rel="prev" title="Visualizing Data" href="visualize_data.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            GeoArmadillo
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Docs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../pipelines/pipelines.html">GeoArmadillo Pipelines</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">GeoArmadillo Blocks</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="input_blocks.html">Variables and Constant Inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="read_write_blocks.html">Read and Write Dataframes</a></li>
<li class="toctree-l2"><a class="reference internal" href="helper_blocks.html">GeoArmadillo Helper Blocks</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualize_data.html">Visualizing Data</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Data Regression Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#lambda-parameter-modelling">Lambda Parameter Modelling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#computing-a-model">Computing a model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#smoothness-check-with-model">Smoothness Check with Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#outlier-detection">Outlier Detection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#potential-limit-of-detection-annotation">Potential Limit of Detection Annotation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#putting-it-together-an-example">Putting it together: An Example</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">GeoArmadillo Example Pipelines</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How To</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/getting_started.html">Getting Started</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../impressum.html">Impressum</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GeoArmadillo</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">GeoArmadillo Blocks</a></li>
      <li class="breadcrumb-item active">Data Regression Models</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/blocks/modelling.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="data-regression-models">
<h1>Data Regression Models<a class="headerlink" href="#data-regression-models" title="Link to this heading"></a></h1>
<section id="lambda-parameter-modelling">
<h2>Lambda Parameter Modelling<a class="headerlink" href="#lambda-parameter-modelling" title="Link to this heading"></a></h2>
<section id="computing-a-model">
<h3>Computing a model<a class="headerlink" href="#computing-a-model" title="Link to this heading"></a></h3>
<p>GeoArmadillo offers a comfortable way to fit regression models using the approach suggested by <a class="reference external" href="https://academic.oup.com/petrology/article/57/8/1463/2413419">O’Neil</a> for describing pattern smoothness. There is a list of longer research activities leading to an <a class="reference external" href="https://pyrolite.readthedocs.io/en/develop/examples/geochem/lambdas.html">implementation of this approach in pyrolite.</a></p>
<p>GeoArmadillo uses this implementation inside the <em>Fit Lambda Parameters and Compute Model Block</em> to compute a regression model for the REE pattern. The <em>Block</em> expects a normalized dataframe and allows to store the model either to a variable or write it to disk. See the <a class="reference internal" href="#lambda-example"><span class="std std-ref">example below</span></a> for an example how the model is stored in a variable.</p>
<img alt="../_images/lambda_parameter.png" src="../_images/lambda_parameter.png" />
<p>This <em>Block</em> above requires <em>Optimization Parameters</em> that are passed by the following <em>Block</em>:</p>
<img alt="../_images/lambda_config.png" src="../_images/lambda_config.png" />
<p>The algorithm tries to automatically exclude outlier elements from the fitting. For example, Ce and Eu anomalies are rather frequent in geochemical samples and thus would be excluded in the fitting. The <em>Exclusion Threshold</em> defines how much deviation between the model and an element is allowed to be <strong>not</strong> considered an outlier. The feature for fitting the Lanthanide Tetrad Effect (LTE) is currently in development. Leave <em>LTE Overall</em> to <em>false</em>.</p>
</section>
<section id="smoothness-check-with-model">
<h3>Smoothness Check with Model<a class="headerlink" href="#smoothness-check-with-model" title="Link to this heading"></a></h3>
<p>Once a model has been compute, it is possible to evaluate the smoothness of the REE pattern by computing the deviation between measured and modeled values. The <em>REE Patterns Smoothness Check Block</em> expects the data to be unnormalized and requires a model as input. The <em>Block</em> saves the performed checks into the outputfolder. <em>Max Threshold</em> sets the maximal deviation allowed for a single element before the sample is flagged. <em>Mean Threshold</em> sets the average deviation accros all REE allowed before the sample flagged. If <em>Plot Images to Outfolder</em> is ticked, REE plots of the flagged samples are saved to the output folder.</p>
<img alt="../_images/smoothness_check.png" src="../_images/smoothness_check.png" />
</section>
<section id="outlier-detection">
<h3>Outlier Detection<a class="headerlink" href="#outlier-detection" title="Link to this heading"></a></h3>
<p>GeoArmadillo tries to specify unsmooth samples further. This blocks adds a flag that marks samples with a potential single outlier in the pattern. It requires
a model as input.</p>
<img alt="../_images/single_outlier.png" src="../_images/single_outlier.png" />
</section>
<section id="potential-limit-of-detection-annotation">
<h3>Potential Limit of Detection Annotation<a class="headerlink" href="#potential-limit-of-detection-annotation" title="Link to this heading"></a></h3>
<p>GeoArmadillo tries to specify samples with non-smooth REE pattern further. The <em>Detect Potential Zig-Zag Tails in heavy REEs Block</em> flaggs samples with a potential zig zag tail in the heavy REE pattern. It might be an indication for a sample measured to close to the limit of quantification.</p>
<img alt="../_images/Zig_zag_tail.png" src="../_images/Zig_zag_tail.png" />
</section>
<section id="putting-it-together-an-example">
<span id="lambda-example"></span><h3>Putting it together: An Example<a class="headerlink" href="#putting-it-together-an-example" title="Link to this heading"></a></h3>
<p>Here is an example pipeline how model generation and the smoothnes check might be combined.</p>
<img alt="../_images/lambda_example.png" src="../_images/lambda_example.png" />
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="visualize_data.html" class="btn btn-neutral float-left" title="Visualizing Data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../examples/index.html" class="btn btn-neutral float-right" title="GeoArmadillo Example Pipelines" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Malte Mues und David Ernst.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>